<div class="rk-base-card">
  <div class="card-item">
    <div class="container-fluid">
      <div class="row">
        <div class="col-12 p-0 d-flex align-items-center justify-content-end">
          <button class="btn btn-icon btn-small">
            <i-feather name="file"></i-feather>
            Create New Report
          </button>
        </div>
      </div>

      <div class="row">
        <div class="col-12 p-0 mt-3">
          <rk-table-container class="m-0">
            <div class="rk-table-container-header">
              <div class="top-content">
                <div class="rk-table-title">User Reports</div>
              </div>
            </div>

            <rk-table [showPagination]="false">
              <ng-template #header>
                <tr>
                  <th>#</th>
                  <th>Report Name</th>
                  <th colspan="3">Schedule Interval</th>
                  <th>Delete</th>
                </tr>
              </ng-template>

              <ng-template #body>
                <tr *ngFor="let report of userReports; let index = index">
                  <td style="width: 32px;">{{ index + 1 }}</td>
                  <td>{{ report.name }}</td>
                  <td class="rk-radio-for-table" style="width: 230px;">
                    <rk-radio class="rk-radio-m-0" [checked]="report.scheduledReport?.period === 'd'"
                      (valueChange)="changeScheduledPeriod(report.id, 'd')" [name]="'report-' + index" value="d">
                      Schedule Daily report email
                    </rk-radio>
                  </td>
                  <td class="rk-radio-for-table" style="width: 230px;">
                    <rk-radio class="rk-radio-m-0" [checked]="report.scheduledReport?.period === 'w'"
                      (valueChange)="changeScheduledPeriod(report.id, 'w')" [name]="'report-' + index" value="w">
                      Schedule Weekly report email
                    </rk-radio>
                  </td>
                  <td class="rk-radio-for-table" style="width: 230px;">
                    <rk-radio class="rk-radio-m-0" [checked]="report.scheduledReport?.period === 'm'"
                      (valueChange)="changeScheduledPeriod(report.id, 'm')" [name]="'report-' + index" value="m">
                      Schedule Monthly report email
                    </rk-radio>
                  </td>
                  <td style="width: 60px;">
                    <button class="btn btn-icon btn-link p-0 hover-gray" (click)="deleteReport(report.id)">
                      <i-feather name="trash-2"></i-feather>
                    </button>
                  </td>
                </tr>
              </ng-template>
            </rk-table>
          </rk-table-container>
        </div>

        <div class="col-12 p-0 mt-3">
          <rk-table-container class="m-0">
            <div class="rk-table-container-header">
              <div class="top-content">
                <div class="rk-table-title">System Reports</div>
              </div>
            </div>

            <rk-table [showPagination]="false">
              <ng-template #header>
                <tr>
                  <th>#</th>
                  <th>Report Name</th>
                  <th colspan="3">Schedule Interval</th>
                  <th>Delete</th>
                </tr>
              </ng-template>

              <ng-template #body>
                <tr *ngFor="let report of systemReports; let index = index">
                  <td style="width: 32px;">{{ index + 1 }}</td>
                  <td>{{ report.name }}</td>
                  <td class="rk-radio-for-table" style="width: 230px;">
                    <rk-radio class="rk-radio-m-0" [checked]="report.scheduledReport?.period === 'd'"
                      (valueChange)="changeScheduledPeriod(report.id, 'd')" [name]="'system-report-' + index" value="d">
                      Schedule Daily report email
                    </rk-radio>
                  </td>
                  <td class="rk-radio-for-table" style="width: 230px;">
                    <rk-radio class="rk-radio-m-0" [checked]="report.scheduledReport?.period === 'w'"
                      (valueChange)="changeScheduledPeriod(report.id, 'w')" [name]="'system-report-' + index" value="w">
                      Schedule Weekly report email
                    </rk-radio>
                  </td>
                  <td class="rk-radio-for-table" style="width: 230px;">
                    <rk-radio class="rk-radio-m-0" [checked]="report.scheduledReport?.period === 'm'"
                      (valueChange)="changeScheduledPeriod(report.id, 'm')" [name]="'system-report-' + index" value="m">
                      Schedule Monthly report email
                    </rk-radio>
                  </td>
                  <td style="width: 60px;">
                    <button class="btn btn-icon btn-link p-0 hover-gray" (click)="deleteReport(report.id)">
                      <i-feather name="trash-2"></i-feather>
                    </button>
                  </td>
                </tr>
              </ng-template>
            </rk-table>
          </rk-table-container>
        </div>
      </div>
    </div>
  </div>
</div>
