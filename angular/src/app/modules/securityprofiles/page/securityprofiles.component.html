<div class="main-content">
  <div class="container-fluid col-md-11">
    <section id="securityProfilesPanel" class="securityProfilesPanel">
      <!-- <div class="row" id="newButtonDiv">
        <div class="col-md-4"></div>
        <div class="col-md-4">
        </div>
        <div class="col-md-4 text-right">
          <button class="btns btn-teritary border-radius-8 p-2 card-create-btn" id="newAgentBtn"
            (click)="showNewWizard()" style="z-index: 10;">
            <img src="assets/images/icons/add.svg">
            Create New Profile
          </button>
        </div>
      </div> -->
      <div class="row mt-4">
        <div class="col-md-12 ml-auto mr-auto">
          <div class="dns-base-card">
            <div class="dns-base-card-header pt-3">
              <div class="row">
                <button class="btns btn-teritary border-radius-8" id="pi_card_btn" matTooltip="Create a new Profile"
                  [matTooltipShowDelay]="800" (click)="showNewWizard()">
                  <img src="assets/images/icons/add.svg">
                  Create New Profile
                </button>
                <div class="col-12 d-flex flex-column flex-sm-column flex-md-row">
                  <span class="mr-3 flex-1">Security Profiles</span>
                  <div class="search-form flex-1">
                    <img src="assets/images/icons/search.svg" class="icon">
                    <input type="search" class="dns-form-control reverse-form" placeholder="Search by name"
                      [(ngModel)]="searchKey" (ngModelChange)="searchByKeyword()" />
                  </div>
                  <div class="dns-datatable-pagination ml-3 d-inline-flex align-items-center flex-1"></div>
                </div>
              </div>
            </div>
            <div class="dns-base-card-content">
              <div class="row mt-3">
                <div class="col-12">
                  <div class="table-responsive" style="max-height: 600px;">
                    <table class="table table-bordered">
                      <thead>
                        <th class="no-border"></th>
                        <th style="border-bottom: white;">Profile Name</th>
                        <th style="border-bottom: white;">Number of Uses</th>
                        <th style="border-bottom: white;">Operations</th>
                      </thead>
                      <tbody>
                        <tr *ngFor="let p of securityProfilesFiltered; let i = index;">
                          <td class="numeration">{{i}}</td>
                          <td>{{p.name}}</td>
                          <td style="width: 200px">{{p.numberOfUsage}}</td>
                          <td style="width: 120px" class="text-center">
                            <!-- <span *ngIf="p.isSystem" class="text-muted" >Default</span> -->
                            <button mat-raised-button type="button" class="btn btn-info btn-link btn-just-icon btn-sm"
                              mattooltip="Edit item" (click)="showEditWizard(p.id)">
                              <i class="material-icons">edit</i>
                            </button>
                            <button *ngIf="p.isSystem" mat-raised-button type="button"
                              class="btn btn-danger btn-link btn-just-icon btn-sm"
                              title="Default profile can not delete!">
                              <i class="material-icons">close</i>
                            </button>
                            <button *ngIf="!p.isSystem" mat-raised-button type="button"
                              class="btn btn-danger btn-link btn-just-icon btn-sm" mattooltip="Delete item"
                              (click)="deleteProfile(p.id)">
                              <i class="material-icons">close</i>
                            </button>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section id="wizardPanel" class="wizardPanel" style="display: none;">
      <div class="row">
        <div class="col-md-12">
          <button mat-raised-button type="button" class="btn btn-warning" (click)="hideWizard()">
            <i class="material-icons">arrow_back</i>
          </button>
          <app-profile-wizard [selectedAgent]="selectedAgent" [startWizard]="startWizard" [saveMode]="saveMode"
            [updateCount]="updateCount" (saveEmitter)="hideWizardWithoutConfirm();"></app-profile-wizard>
        </div>
      </div>
    </section>
  </div>
</div>