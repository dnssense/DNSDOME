<div class="wrapper wrapper-full-page flex-column" style="background-color: white;">
  <div class="row ml-1 mr-1" style="min-height: 92vh;">
    <div class="col-md-8 ml-auto mr-auto">
      <div class="row mt-4 mb-4">
        <div class="col-md-3 text-left">
          <img src="/assets/img/{{host.logoImage}}" class="responsive-img" />
        </div>
        <div class="col-md-9 d-flex align-items-center justify-content-end">
          <a class="nav-link pull-right" [routerLink]="['/login']"
            style="color: #868e96; font-weight: 500; font-size: 16px;">
            Log In
          </a>
        </div>
      </div>
      <div class="row" *ngIf="passwordMustChange">
        <div class="col-md-12 signUpHeader text-center" style="font-weight: 500; font-size: 20px;">{{'REGISTER.DefineYourPassword' | translate}}
        </div>
        <div class="col-md-12 mt-4 mb-3" style="border: 0.5px solid #eeeeee"></div>
      </div>
      <div class="row" *ngIf="passwordMustChange">
        <div class="col-lg-6 col-md-6 col-sm-8 ml-auto mr-auto" style="max-width: 450px;">
          <p style="font-weight: normal; font-size: medium;">{{'REGISTER.DefineYourNewPasswordAccordingToPasswordPolicy'|translate}}</p>
          <div id="loginDiv">
            <form [formGroup]="passwordConfirmForm" (ngSubmit)="activateWithPass()" class="form-horizontal">
              <div class="row">
                <div class="card-body w-100">
                  <div class="form-group-sm has-default">
                    <input type="password" class="formInput" placeholder="{{'REGISTER.Password' | translate}}"
                           (keyup)="checkPasswordStrength()" [(ngModel)]="model.password" formControlName="password">
                    <div class="password-length mt-2">
                      <div [ngClass]="{'active': passStrength>0}"></div>
                      <div [ngClass]="{'active': passStrength>1}"></div>
                      <div [ngClass]="{'active': passStrength>2}"></div>
                      <div [ngClass]="{'active': passStrength>3}"></div>
                    </div>
                    <div class="form-group-sm has-default color-9d9d9d" style="font-size: 12px; color: #9d9d9d;" id="passDetails">
                      {{'REGISTER.PasswordRequirements0'|translate}}
                      <div class="row">
                        <div class="col-md-6">
                          <i class="d-flex fa" [ngClass]="upStrength ? 'fa-check greenCheck':'fa-check redCheck'"> {{'REGISTER.PasswordRequirements1'|translate}}</i>
                          <i class="d-flex fa" [ngClass]="lowStrength ? 'fa-check greenCheck':'fa-check redCheck'"> {{'REGISTER.PasswordRequirements2'|translate}}</i>
                        </div>
                        <div class="col-md-6">
                          <i class="d-flex fa" [ngClass]="numStrength ? 'fa-check greenCheck':'fa-check redCheck'"> {{'REGISTER.PasswordRequirements3'|translate}}</i>
                          <i class="d-flex fa" [ngClass]="lengthStrength ? 'fa-check greenCheck':'fa-check redCheck'">{{'REGISTER.PasswordRequirements4'|translate}}</i>
                        </div>
                      </div>
                    </div>
                    <div class="form-group-sm has-default">
                      <input type="password" class="formInput mt-2 mb-3"
                             placeholder="{{'REGISTER.ConfirmPassword' | translate}}" [(ngModel)]="model.passwordAgain"
                             formControlName="passwordAgain">
                    </div>
                    <div class="form-group-sm has-default text-center">
                      <re-captcha [siteKey]="captcha_key" (resolved)="handleCaptcha($event)"></re-captcha>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-12 text-center">
                  <button type="submit" class="btns login-btns mt-4 mb-3" [disabled]="!isFormValid()">{{'ACCOUNTSETTINGS.ChangePassword'|translate}}</button>
                  <br />
                  <a [routerLink]="['/login']" style="color: #4353ff; font-weight: 500; font-size: 14px; text-decoration: none;">
                    {{'Cancel'|translate}}
                  </a>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
      <div class="row" *ngIf="!passwordMustChange">

        <div class="col-lg-8 col-md-8 col-sm-8 ml-auto mr-auto">
          <div class="card card-signup text-center flex-column" style="padding: 50px">
            <h5 class="card-title text-center" style="font-weight: 600;">
              {{'REGISTER.ThankYouForRegistering' | translate}}</h5>
            <div *ngIf="activated==0" class="card-body">
              <p class="card-text">{{ 'REGISTER.ActivationProcessInProgress' | translate}}</p>
              <i>
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true"
                  focusable="false" width="1em" height="1em"
                  style="-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);"
                  preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24">
                  <path
                    d="M19 22h1v-2h-1v-1a7.014 7.014 0 0 0-3.433-6.02c-.355-.21-.567-.547-.567-.901v-.158c0-.354.212-.691.566-.9A7.016 7.016 0 0 0 19 5V4h1V2H4v2h1v1a7.016 7.016 0 0 0 3.434 6.021c.354.209.566.545.566.9v.158c0 .354-.212.691-.566.9A7.016 7.016 0 0 0 5 19v1H4v2h15zM17 4v1a5.005 5.005 0 0 1-1.004 3H8.004A5.005 5.005 0 0 1 7 5V4h10zM9.45 14.702c.971-.574 1.55-1.554 1.55-2.623V12h2v.079c0 1.068.579 2.049 1.551 2.623A4.98 4.98 0 0 1 16.573 17H7.427a4.977 4.977 0 0 1 2.023-2.298z"
                    fill="var(--text-dark)" /></svg>
              </i>
            </div>
            <div *ngIf="activated==1" class="card-body" style="font-weight: normal;">
              <p class="card-text">{{'REGISTER.ActivationProcessFinished' | translate}}
                <a [routerLink]="['/login']"
                  style="color: #868e96; font-weight: 500; font-size: 16px;">{{'LOGIN.Login' | translate}} </a></p>
              <img src="/assets/img/hand-check.svg" style="max-height: 160px;" />
            </div>
            <div *ngIf="activated==-1" class="card-body">
              <h5 class="card-title" style="font-weight: normal;">{{ 'REGISTER.AccountCouldNotActivate' | translate }}
              </h5>
              <p>{{ 'REGISTER.AccountCouldNotActivateDetail' | translate }}</p>

              <i>
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true"
                  focusable="false" width="64" height="64"
                  style="-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);"
                  preserveAspectRatio="xMidYMid meet" viewBox="0 0 1536 1536">
                  <path
                    d="M1152 960q0 26-19 45t-45 19H448q-26 0-45-19t-19-45t19-45t45-19h640q26 0 45 19t19 45zM640 512q0 53-37.5 90.5T512 640t-90.5-37.5T384 512t37.5-90.5T512 384t90.5 37.5T640 512zm512 0q0 53-37.5 90.5T1024 640t-90.5-37.5T896 512t37.5-90.5T1024 384t90.5 37.5T1152 512zm256 256q0-130-51-248.5t-136.5-204t-204-136.5T768 128t-248.5 51t-204 136.5t-136.5 204T128 768t51 248.5t136.5 204t204 136.5t248.5 51t248.5-51t204-136.5t136.5-204t51-248.5zm128 0q0 209-103 385.5T1153.5 1433T768 1536t-385.5-103T103 1153.5T0 768t103-385.5T382.5 103T768 0t385.5 103T1433 382.5T1536 768z"
                    fill="var(--text-dark)" /></svg>
              </i>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <app-footer-cmp></app-footer-cmp>
</div>
