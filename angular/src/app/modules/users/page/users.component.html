<div class="main-content">

  <!-- <section id="listPanel"> -->
  <div class="container-fluid col-md-11">
    <div class="row">
      <div class="col-12">
        <div class="dns-base-card">
          <div class="dns-base-card-header pt-3">
            <div class="row">
              <button class="btns btn-teritary border-radius-8 card-create-btn" id="createUserBtn"
                (click)="showNewWizard()">
                <img src="assets/images/icons/add.svg">
                Create New User
              </button>

              <div class="col-12 d-flex flex-column flex-sm-column flex-md-row">
                <span class="mr-3 flex-2">Users</span>

                <!-- <div class="dns-datatable-pagination ml-3 d-inline-flex align-items-center">
                    <span>Show Rows</span>
                    <div class="dnssense-select ml-3">
                      <select>
                        <option>10</option>
                        <option>10</option>
                        <option>25</option>
                        <option>50</option>
                      </select>
                    </div>
                    <div class="page-numbers ml-3 mr-3">1 - 109</div>
                    <button class="btn page-prev">
                      <i class="icon-left-open-big"></i>
                    </button>
                    <button class="btn page-next">
                      <i class="icon-right-open-big"></i>
                    </button>
                  </div> -->
              </div>
            </div>

          </div>
          <div class="dns-base-card-content">
            <table class="table table-bordered table-padding-05 table-responsive-md table-responsive-sm mt-3">
              <thead>
                <th class="text-center" style="border-bottom: white;">E-mail</th>
                <th class="text-center" style="border-bottom: white;">Role</th>
                <th class="text-center" style="border-bottom: white;">Is Locked</th>
                <th class="text-center" style="border-bottom: white;">Is Active</th>
                <th class="text-center" style="border-bottom: white;">Edit</th>
                <th class="text-center" style="border-bottom: white;">Delete</th>
              </thead>
              <tbody>
                <tr *ngFor="let row of userList">
                  <td><small>{{row.username}}</small></td>
                  <td><small>{{userFriendlyRoleName(row.roles[0].name)}}</small></td>
                  <td class="text-center">
                    <ng-container *ngIf="row.isLocked==1; else elseTemplate01">
                      <button class="btns btn-clear">
                        <img src="./assets/images/icons/checkbox.svg" title="Locked">
                      </button>
                    </ng-container>
                    <ng-template #elseTemplate01>
                      <button class="btns btn-clear">
                        <img src="./assets/images/icons/close.svg" title="Not Locked">
                      </button>
                    </ng-template>
                  </td>
                  <td class="text-center">
                    <ng-container *ngIf="row.isActive==1; else elseTemplate2">
                      <button class="btns btn-clear">
                        <img src="./assets/images/icons/checkbox.svg" title="Active">
                      </button>
                    </ng-container>
                    <ng-template #elseTemplate2>
                      <button class="btns btn-clear">
                        <img src="./assets/images/icons/close.svg" title="Not Active">
                      </button>
                    </ng-template>
                  </td>
                  <td class="text-center">
                    <button class="btns btn-info" (click)="showEditWizard(row.id)">
                      <small>Edit</small>
                    </button>
                  </td>
                  <td class="text-center">
                    <button class="btns btn-danger" (click)="deleteUser(row.id)">
                      <small>Delete</small>
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>


    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
      aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content" style="background: #262626; color: white;">
          <form [formGroup]="userForm" class="form-horizontal">
            <div class="modal-header" style="border-bottom: none; color:white">
              <h4 class="modal-title" id="exampleModalLabel">New User</h4>
              <button type="button" class="close color-white" data-dismiss="modal" aria-label="Close"
                (click)="closeModal()">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body" style="border-bottom: none;">
              <div class="form-ux activated" id="userInformationForm">
                <div class="form-group">
                  <label for="email">Email</label>
                  <input type="text " class="dns-form-control input-reverse" id="email" placeholder="Enter e-mail"
                    [(ngModel)]="selectedUser.username" formControlName="email">
                </div>
                <!-- <div class="form-group">
                  <label for="name">Name</label>
                  <input type="text " class="dns-form-control input-reverse" id="name" [(ngModel)]="selectedUser.name"
                    formControlName="name" placeholder="Enter full name">
                </div> -->
                <div class="form-group not-ux light-select dns-full-width">
                  <label>Roles</label>
                  <select class="dns-form-control reverse-form" [(ngModel)]="selectedUser.roles.name"
                    formControlName="role">
                    <option disabled selected>Select Role</option>
                    <option [ngValue]="role.name" *ngFor="let role of roleList">{{role.description}}</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="password">Password</label>
                  <input type="password" class="form-control input-reverse" id="password" placeholder="X X X X X"
                    [(ngModel)]="selectedUser.password" formControlName="password"
                    (ngModelChange)="checkPasswordStrength()" />
                </div>
                <div class="row">
                  <div class="col-4">
                    <span class="color-9d9d9d">
                      <small>Password Strength</small>
                    </span>
                  </div>
                  <div class="col-8">
                    <div class="password-length mt-2">
                      <div [ngClass]="{'active': passStrength>0}"></div>
                      <div [ngClass]="{'active': passStrength>1}"></div>
                      <div [ngClass]="{'active': passStrength>2}"></div>
                      <div [ngClass]="{'active': passStrength>3}"></div>
                    </div>
                    <span class="color-9d9d9d">
                      <small>* Your password has to be at least 8 characters with at least one upper case, one lower
                        case, one number.</small>
                    </span>
                  </div>
                </div>
                <div *ngIf="modalStatus =='edit'" class="row mt-3">
                  <div class="col-6">
                    <label class="dns-checkbox">
                      <ng-container *ngIf="selectedUser.isActive == 1; else elseTemplate133">
                        <input type="checkbox" checked (change)="changeActiveStatus()">
                      </ng-container>
                      <ng-template #elseTemplate133>
                        <input type="checkbox" (change)="changeActiveStatus()">
                      </ng-template>
                      <span>Active
                      </span>
                    </label>
                    <button class="btn btn-clear p-0 m-0" tabindex="0" data-toggle="tooltip" data-placement="bottom"
                      title="Activation of User">
                      <i class="fa fa-question-circle ml-3"></i>
                    </button>
                  </div>
                  <div class="col-6">
                    <label class="dns-checkbox">
                      <ng-container *ngIf="selectedUser.isLocked == 1; else elseTemplate13">
                        <input type="checkbox" checked (change)="changeLockStatus()">
                      </ng-container>
                      <ng-template #elseTemplate13>
                        <input type="checkbox" (change)="changeLockStatus()">
                      </ng-template>
                      <span>Locked
                        <button class="btn btn-clear p-0 m-0" data-toggle="tooltip" data-placement="top"
                          title="Status of User">
                          <i class="fa fa-question-circle ml-3"></i>
                        </button>
                      </span>
                    </label>
                  </div>
                </div>

              </div>
            </div>
            <div class="modal-footer justify-content-start">
              <button class="btns btn-teritary pl-3 pr-3 pull-right" (click)="userFormSubmit()">
                <i class="fa fa-save mr-3"></i>Save
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>



  </div>

</div>